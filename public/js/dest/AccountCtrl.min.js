angular.module("AccountCtrl",[]).controller("AccountController",function(a,b,c,d,e,f){a.edit=!0,d.loggedIn=!1,a.user={},f.transitionTo("account.details"),b.get("/loggedin").success(function(b){a.user=b,"0"!==b&&(d.loggedIn=!0)}),a.sendMail=function(){b.post("/api/sendmail").error(function(){a.res="blad podczas wyslania"}).success(function(){a.res="wyslano maila"})},a.UpdateData=function(){b.post("/api/UpdateUserData",{username:a.user.username,name:a.user.name,surname:a.user.surname,email:a.user.email,emailPassword:a.user.emailPassword}).success(function(){a.editEnable()})},a.createList=function(){b.post("/api/createList",{username:a.user.username,name:a.user.lists.name,mails:a.user.lists.mails}).success(function(){b.get("/loggedin").success(function(b){a.user=b})})},a.DeleteList=function(b){var c=a.user.lists[b];a.newlist=a.user.lists.splice(c.id,1)},a.editEnable=function(){return 1==a.edit?(a.edit=!1,a.edit):0==a.edit?(a.edit=!0,a.edit):void 0}});